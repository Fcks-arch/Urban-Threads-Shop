<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-commerce</title>
  <link rel="stylesheet" href="home2.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
  <section class=" top-txt ">
      <div class="head container ">
          <div class="head-txt ">
              <p>Free shipping, 30-day return or refund guarantee.</p>
          </div>
          <div class="sign_in_up ">
              <div id="guest-links">
                  <a href="signin.html" class="sign-link">Sign In</a>
                  <span class="separator">|</span>
                  <a href="signup.html" class="sign-link">Sign Up</a>
              </div>
              <div id="user-info" style="display: none;">
                  <span class="welcome-text">Welcome, <span id="user-name">User</span>!</span>
                  <a href="user_profile.html" class="profile-link">Profile</a>
                  <span class="separator">|</span>
                  <a href="logout.php" class="sign-link">Logout</a>
              </div>
          </div>
      </div>
  </section>
  <nav class="navbar">
    <div class="navbar-container">
        <div class="logo">
            <h1>URBAN THREADS</h1>
        </div>

        
        <input type="checkbox" id="menu-toggle">
        <label for="menu-toggle" class="hamburger-lines">
            <div class="line line1"></div>
            <div class="line line2"></div>
            <div class="line line3"></div>
        </label>

       
        <ul class="menu-items">
            <li><a href="home.html">Home</a></li>
            <li><a href="logout.php">Logout</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>
</nav>

  <section id="home">
      <div class="home_page ">
        <video autoplay muted loop class="video-bg">
            <source src="images/front.mp4" type="video/mp4" />
            Your browser does not support the video tag.
        </video>
          <div class="home_txt ">
              <p class="collectio ">SUMMER COLLECTION</p>
              <h2>FALL - WINTER<br>Collection 2025</h2>
              <div class="home_label ">
                  <p>A specialist label creating luxury essentials. Ethically crafted<br>with an unwavering commitment to exceptional quality.</p>
              </div>
              <button><a href="shop2.html">SHOP NOW</a><i class='bx bx-right-arrow-alt'></i></button>
              <div class="home_social_icons">
                  <a href="#"><i class='bx bxl-facebook'></i></a>
                  <a href="#"><i class='bx bxl-twitter'></i></a>
                  <a href="#"><i class='bx bxl-pinterest'></i></a>
                  <a href="#"><i class='bx bxl-instagram'></i></a>
              </div>
          </div>
      </div>
  </section>

  <script>
    // Check login status and show/hide logout button
    function checkLoginStatus() {
        fetch('check_login.php')
            .then(response => response.json())
            .then(data => {
                const logoutBtn = document.querySelector('a[href="logout.php"]');
                const guestLinks = document.getElementById('guest-links');
                const userInfo = document.getElementById('user-info');
                const userName = document.getElementById('user-name');

                if (data.logged_in) {
                    // User is logged in
                    if (logoutBtn) {
                        logoutBtn.style.display = 'block';
                    }
                    guestLinks.style.display = 'none';
                    userInfo.style.display = 'flex';
                    
                    // Fetch user profile information
                    fetch('get_user_profile.php')
                        .then(response => response.json())
                        .then(profileData => {
                            if (profileData.status === 'success') {
                                userName.textContent = profileData.user.full_name || 'User';
                            } else {
                                userName.textContent = 'User';
                            }
                        })
                        .catch(error => {
                            console.error('Error fetching user profile:', error);
                            userName.textContent = 'User';
                        });
                } else {
                    // User is not logged in
                    if (logoutBtn) {
                        logoutBtn.style.display = 'none';
                    }
                    guestLinks.style.display = 'block';
                    userInfo.style.display = 'none';
                }
            })
            .catch(error => {
                console.error('Error checking login status:', error);
            });
    }

    // Check login status when page loads
    document.addEventListener('DOMContentLoaded', function() {
        checkLoginStatus();
    });
  </script>

</body>
</html>
